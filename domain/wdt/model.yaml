domainInfo:
    AdminUserName: '@@ENV:DOMAIN_USERNAME@@'
    AdminPassword: '@@ENV:DOMAIN_PASSWORD@@'
    domainBin:
      - wlsdeploy/domainBin/env.sh
      - wlsdeploy/domainBin/bin_Common.sh
      - wlsdeploy/domainBin/start.sh
      - wlsdeploy/domainBin/stop.sh
topology:
    Name: '@@ENV:DOMAIN_NAME@@'
    DomainVersion: 12.1.3.0.0
    AdminServerName: CisAdminServer
    Cluster:
        'CisCluster':
            DynamicServers:
                ServerTemplate:  'cluster-1-template'
                ServerNamePrefix: 'CisManagedServer'
                DynamicClusterSize: '@@PROP:CLUSTER_SIZE@@'
                MaxDynamicClusterSize: '@@PROP:CLUSTER_SIZE@@'
                MinDynamicClusterSize: '0'
                CalculatedListenPorts: false
    Server:
        CisAdminServer:
            ListenPort: '@@ENV:DOMAIN_ADMIN_PORT@@'
    ServerTemplate:
        'cluster-1-template':
            Cluster: 'CisCluster'
            ListenPort: '@@ENV:DOMAIN_MANAGED_PORT@@'
resources:
    JDBCSystemResource:
        L1 CIS JDBC Data Source:
            Target: '@@PROP:RESOURCE_TARGET@@'
            JdbcResource:
                JDBCConnectionPoolParams:
                    TestTableName: SQL SELECT 1 FROM DUAL
                    TestConnectionsOnReserve: true
                JDBCDataSourceParams:
                    GlobalTransactionsProtocol: EmulateTwoPhaseCommit
                    JNDIName: 'L1CisJdbcDataSource,L1JdbcDataSource'
                JDBCDriverParams:
                    URL: 'jdbc:oracle:thin:@ldap://oid.inf.fedex.com:3060/CISERVICES_SVC1_L1,cn=OracleContext'
                    PasswordEncrypted: '@@PROP:JDBC.L1-CIS-JDBC-Data-Source.PasswordEncrypted@@'
                    DriverName: oracle.jdbc.OracleDriver
                    Properties:
                        user:
                            Value: '@@PROP:JDBC.L1-CIS-JDBC-Data-Source.user.Value@@'
    MailSession:
        Cis Mail Session:
            Properties:
                mail.transport.protocol: smtp
                mail.host: mapper.gslb.fedex.com
            Target: '@@PROP:RESOURCE_TARGET@@'
            JNDIName: CisMailSession
    JMSSystemResource:
        CIS JMS System Module:
            Target: '@@PROP:RESOURCE_TARGET@@'
            SubDeployment:
                L1 EIT Subdeployment:
                    Target: '@@PROP:RESOURCE_TARGET@@'
            JmsResource:
                ForeignServer:
                    L1 EIT Foreign Server:
                        SubDeploymentName: L1 EIT Subdeployment
                        ConnectionURL: 'ldap://apptstldap.corp.fedex.com:389/ou=messaging,dc=corp,dc=fedex,dc=com'
                        InitialContextFactory: com.fedex.mi.decorator.jms.FedexTibcoInitialContext
                        ForeignConnectionFactory:
                            L1 Services Queue Consumer EIT Foreign Connection Factory:
                                RemoteJndiName: 'fxClientUID=S.6949.CISEVENT.SERVICES-6949.WTC.QCF.L1.01'
                                Username: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Services-Queue-Consumer-EIT-Foreign-Connection-Factory.Username@@'
                                LocalJNDIName: ServicesQueueConsumerEitForeignConnectionFactory
                                PasswordEncrypted: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Services-Queue-Consumer-EIT-Foreign-Connection-Factory.PasswordEncrypted@@'
                            L1 Services Topic Consumer EIT Foreign Connection Factory:
                                RemoteJndiName: 'fxClientUID=S.6949.CISSERVICES.SERVICES.WTC.TCF.L1.01'
                                Username: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Services-Topic-Consumer-EIT-Foreign-Connection-Factory.Username@@'
                                LocalJNDIName: ServicesTopicConsumerEitForeignConnectionFactory
                                PasswordEncrypted: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Services-Topic-Consumer-EIT-Foreign-Connection-Factory.PasswordEncrypted@@'
                            L1 Business Queue Consumer EIT Foreign Connection Factory:
                                RemoteJndiName: 'fxClientUID=S.6949.CISEVENT.BUSINESS-6949.WTC.QCF.L1.01'
                                Username: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Business-Queue-Consumer-EIT-Foreign-Connection-Factory.Username@@'
                                LocalJNDIName: BusinessQueueConsumerEitForeignConnectionFactory
                                PasswordEncrypted: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Business-Queue-Consumer-EIT-Foreign-Connection-Factory.PasswordEncrypted@@'
                            L1 Business Topic Consumer EIT Foreign Connection Factory:
                                RemoteJndiName: 'fxClientUID=S.6949.CISSERVICES.BUSINESS.WTC.TCF.L1.01'
                                Username: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Business-Topic-Consumer-EIT-Foreign-Connection-Factory.Username@@'
                                LocalJNDIName: BusinessTopicConsumerEitForeignConnectionFactory
                                PasswordEncrypted: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Business-Topic-Consumer-EIT-Foreign-Connection-Factory.PasswordEncrypted@@'
                            L1 Gateway Queue Consumer EIT Foreign Connection Factory:
                                RemoteJndiName: 'fxClientUID=S.6949.CISEVENT.GATEWAY-6949.WTC.QCF.L1.01'
                                Username: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Gateway-Queue-Consumer-EIT-Foreign-Connection-Factory.Username@@'
                                LocalJNDIName: GatewayQueueConsumerEitForeignConnectionFactory
                                PasswordEncrypted: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Gateway-Queue-Consumer-EIT-Foreign-Connection-Factory.PasswordEncrypted@@'
                            L1 Gateway Topic Consumer EIT Foreign Connection Factory:
                                RemoteJndiName: 'fxClientUID=S.6949.CISSERVICES.GATEWAY.WTC.TCF.L1.01'
                                Username: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Gateway-Topic-Consumer-EIT-Foreign-Connection-Factory.Username@@'
                                LocalJNDIName: GatewayTopicConsumerEitForeignConnectionFactory
                                PasswordEncrypted: '@@PROP:JMS.CIS-JMS-System-Module.L1-EIT-Foreign-Server.L1-Gateway-Topic-Consumer-EIT-Foreign-Connection-Factory.PasswordEncrypted@@'
                        ForeignDestination:
                            L1 Services Queue Consumer EIT Foreign Destination:
                                RemoteJndiName: 'fxClientDestinationUID=D.FXCONVEY.AIR.CISEVENT.SERVICES-6949'
                                LocalJNDIName: ServicesQueueConsumerEitForeignDestination
                            L1 Services Topic Consumer EIT Foreign Destination:
                                RemoteJndiName: 'fxClientDestinationUID=D.FDSVIPC.CISSERVICES.SERVICES'
                                LocalJNDIName: ServicesTopicConsumerEitForeignDestination
                            L1 Business Queue Consumer EIT Foreign Destination:
                                RemoteJndiName: 'fxClientDestinationUID=D.FXCONVEY.AIR.CISEVENT.BUSINESS-6949'
                                LocalJNDIName: BusinessQueueConsumerEitForeignDestination
                            L1 Business Topic Consumer EIT Foreign Destination:
                                RemoteJndiName: 'fxClientDestinationUID=D.FDSVIPC.CISSERVICES.BUSINESS'
                                LocalJNDIName: BusinessTopicConsumerEitForeignDestination
                            L1 Gateway Queue Consumer EIT Foreign Destination:
                                RemoteJndiName: 'fxClientDestinationUID=D.FXCONVEY.AIR.CISEVENT.GATEWAY-6949'
                                LocalJNDIName: GatewayQueueConsumerEitForeignDestination
                            L1 Gateway Topic Consumer EIT Foreign Destination:
                                RemoteJndiName: 'fxClientDestinationUID=D.FDSVIPC.CISSERVICES.GATEWAY'
                                LocalJNDIName: GatewayTopicConsumerEitForeignDestination
appDeployments:
    Application:
        'cis-audit#1.2.1':
            SourcePath: 'wlsdeploy/applications/cis-audit.war'
            ModuleType: war
            Target: '@@PROP:RESOURCE_TARGET@@'
